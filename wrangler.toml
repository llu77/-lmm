# ============================================
# Cloudflare Pages Configuration
# Generated and synced with Dashboard: 2025-11-11
# ============================================
name = "lmmm"
main = "src/index.ts"
pages_build_output_dir = "symbolai-worker/dist"
compatibility_date = "2025-01-01"

# Note: Do NOT include a [build] section for Cloudflare Pages
# Pages ignores it and may error with: "does not support build"

# ============================================
# KV Namespace Bindings
# ============================================
[[kv_namespaces]]
id = "797b75482e6c4408bb40f6d72f2512af"
binding = "KV"  # Main KV storage for worker operations

[[kv_namespaces]]
id = "a497973607cf45bbbee76b64da9ac947"
binding = "CACHE"  # Application cache storage

[[kv_namespaces]]
id = "d9961a2085d44c669bbe6c175f3611c1"
binding = "FILES"  # File metadata storage

[[kv_namespaces]]
id = "57a4eb48d4f047e7aea6b4692e174894"
binding = "OAUTH_KV"  # OAuth tokens and state

[[kv_namespaces]]
id = "797b75482e6c4408bb40f6d72f2512af"
binding = "RATE_LIMIT"  # Rate limiting data

[[kv_namespaces]]
id = "8f91016b728c4a289fdfdec425492aab"
binding = "SESSIONS"  # User sessions

# ============================================
# D1 Database Bindings
# ============================================
[[d1_databases]]
database_id = "3897ede2-ffc0-4fe8-8217-f9607c89bef2"
binding = "DB"
database_name = "symbolai-financial-db"  # Main financial database

# ============================================
# R2 Bucket Bindings
# ============================================
[[r2_buckets]]
bucket_name = "symbolai-payrolls"
binding = "PAYROLL_BUCKET"  # Payroll PDFs and documents

[[r2_buckets]]
bucket_name = "erp-storage"
binding = "STORAGE"  # General ERP file storage

# ============================================
# Production Environment Overrides
# ============================================
[[env.production.kv_namespaces]]
id = "a497973607cf45bbbee76b64da9ac947"
binding = "CACHE"

[[env.production.kv_namespaces]]
id = "d9961a2085d44c669bbe6c175f3611c1"
binding = "FILES"

[[env.production.kv_namespaces]]
id = "57a4eb48d4f047e7aea6b4692e174894"
binding = "OAUTH_KV"

[[env.production.kv_namespaces]]
id = "797b75482e6c4408bb40f6d72f2512af"
binding = "RATE_LIMIT"

# ============================================
# Environment Variables
# ============================================
[vars]
ENVIRONMENT = "production"
AI_GATEWAY_ACCOUNT_ID = "85b01d19439ca53d3cfa740d2621a2bd"
AI_GATEWAY_NAME = "symbolai-gateway"
CLOUDFLARE_GATEWAY_ID = "3c9bde8186fe4c868defcc441f28ca5e"
CLOUDFLARE_GATEWAY_DOMAIN = "xnoojzri3g.cloudflare-gateway.com"
CLOUDFLARE_GATEWAY_DOH = "https://xnoojzri3g.cloudflare-gateway.com/dns-query"
CLOUDFLARE_GATEWAY_IPV4 = "172.64.36.1"
CLOUDFLARE_GATEWAY_IPV6 = "2a06:98c1:54::20:bbc0"
EMAIL_FROM = "info@symbolai.net"
EMAIL_FROM_NAME = "SymbolAI"
ADMIN_EMAIL = "admin@symbolai.net"
