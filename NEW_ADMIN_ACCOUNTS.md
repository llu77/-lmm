# ุญุณุงุจุงุช ุงููุณุคูููู ูุงููุดุฑููู ุงูุฌุฏูุฏุฉ

ุชู ุฅูุดุงุก ุงูุญุณุงุจุงุช ุงูุชุงููุฉ ูู ุงููุธุงู:

## ๐ ููุฎุต ุงูุญุณุงุจุงุช

| ุงูููุน | ุงูุนุฏุฏ | ุงูุตูุงุญูุงุช |
|------|-------|-----------|
| Admin (ูุฏูุฑ ุฑุฆูุณู) | 1 | ุฌููุน ุงูุตูุงุญูุงุช ุนูู ุงููุธุงู ุจุงููุงูู |
| Supervisors (ูุดุฑููู ูุฑูุน) | 2 | ุตูุงุญูุงุช ูุงููุฉ ุนูู ูุฑูุนูู ููุท |

---

## ๐ค ุญุณุงุจ ุงููุฏูุฑ ุงูุฑุฆูุณู (Admin)

### ุจูุงูุงุช ุงูุฏุฎูู

```
Username: Omar123
Password: Omar101010
Role: Admin (ุงูุฃุฏูู ุงูุฑุฆูุณู)
Full Name: ุนูุฑ - ุงููุฏูุฑ ุงูุฑุฆูุณู
```

### ุงูุตูุงุญูุงุช ุงููุงููุฉ

#### ๐ ุตูุงุญูุงุช ุงููุธุงู (System-wide)
- โ ุนุฑุถ ุฌููุน ุงููุฑูุน (can_view_all_branches)
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (can_manage_users)
  - ุฅูุดุงุก ูุณุชุฎุฏููู ุฌุฏุฏ
  - ุชุนุฏูู ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
  - ุญุฐู ูุณุชุฎุฏููู
  - ุชุนุทูู/ุชูุนูู ุญุณุงุจุงุช
- โ ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช (can_manage_settings)
  - ุฅุนุฏุงุฏุงุช ุงููุธุงู ุงูุนุงูุฉ
  - ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
- โ ุฅุฏุงุฑุฉ ุงููุฑูุน (can_manage_branches)
  - ุฅูุดุงุก ูุฑูุน ุฌุฏูุฏุฉ
  - ุชุนุฏูู ุจูุงูุงุช ุงููุฑูุน
  - ุญุฐู ูุฑูุน
  - ุชุนุทูู/ุชูุนูู ูุฑูุน

#### ๐ฐ ุงูุตูุงุญูุงุช ุงููุงููุฉ (Financial)
- โ ุฅุถุงูุฉ ุฅูุฑุงุฏุงุช (can_add_revenue)
- โ ุฅุถุงูุฉ ูุตุฑููุงุช (can_add_expense)
- โ ุนุฑุถ ุงูุชูุงุฑูุฑ (can_view_reports)
- โ ุฅูุดุงุก ุงููุฑุชุจุงุช (can_generate_payroll)
- โ ุฅุฏุงุฑุฉ ุงูุญูุงูุฒ (can_manage_bonus)

#### ๐ฅ ุฅุฏุงุฑุฉ ุงูููุธููู (Employee Management)
- โ ุฅุฏุงุฑุฉ ุงูููุธููู (can_manage_employees)
  - ุฅุถุงูุฉ ููุธููู ุฌุฏุฏ
  - ุชุนุฏูู ุจูุงูุงุช ุงูููุธููู
  - ุญุฐู ููุธููู
  - ุฅุฏุงุฑุฉ ุณูู ูุฎุตููุงุช ุงูููุธููู

#### ๐ฆ ุฅุฏุงุฑุฉ ุงูุนูููุงุช (Operations)
- โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช (can_manage_orders)
- โ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุธููู (can_manage_requests)
- โ ุงูููุงููุฉ ุนูู ุงูุทูุจุงุช (can_approve_requests)

#### ๐ง ุตูุงุญูุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (Email)
- โ ุฅุฑุณุงู ุฅููููุงุช ูุฎุตุตุฉ
- โ ูุชุงุจุฉ ุฑุณุงุฆู ูุฅุฑุณุงููุง ูุฃู ูุณุชุฎุฏู
- โ ุชุญุฏูุฏ ุงููุณุชูุจููู (ูุงุญุฏ ุฃู ุฃูุซุฑ)
- โ ุชุนุฏูู ุฅุนุฏุงุฏุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- โ ุนุฑุถ ุณุฌู ุงูุฅููููุงุช ุงููุฑุณูุฉ

#### ๐ ุตูุงุญูุงุช ุฃุฎุฑู
- โ ุงูุทุจุงุนุฉ (ุฌููุน ุงูุชูุงุฑูุฑ ูุงููุณุชูุฏุงุช)
- โ ุงููุตูู ูุฃุฏูุงุช MCP
- โ ุงููุตูู ููุฐูุงุก ุงูุงุตุทูุงุนู
- โ ุนุฑุถ ุณุฌูุงุช ุงููุธุงู (Audit Logs)

---

## ๐ข ูุดุฑู ูุฑุน ูุจู (Laban Branch Supervisor)

### ุจูุงูุงุช ุงูุฏุฎูู

```
Username: Aa123123
Password: Aa12341234
Role: Supervisor (ูุดุฑู ูุฑุน)
Full Name: ุนุจุฏุงูุญู ุฌูุงู - ูุดุฑู ูุฑุน ูุจู
Email: Galalbdo766@gmail.com
Phone: +966501234567
Branch: ูุฑุน ูุจู (branch_1010)
```

### ุงูุตูุงุญูุงุช (ูุญุฏูุฏุฉ ุนูู ูุฑุน ูุจู ููุท)

#### โ ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ

**ุงููุงููุฉ:**
- โ ุฅุถุงูุฉ ุฅูุฑุงุฏุงุช ูููุฑุน
- โ ุฅุถุงูุฉ ุฅูุฑุงุฏุงุช ููููุธููู (Employee Revenue)
- โ ุฅุถุงูุฉ ูุตุฑููุงุช
- โ ุนุฑุถ ุงูุชูุงุฑูุฑ ุงููุงููุฉ ูููุฑุน

**ุงูููุธููู:**
- โ ุฅุฏุงุฑุฉ ููุธูู ุงููุฑุน
- โ ุฅุฏุงุฑุฉ ุณูู ุงูููุธููู
- โ ุฅุฏุงุฑุฉ ุฎุตููุงุช ุงูููุธููู
- โ ุฅูุดุงุก ุงููุฑุชุจุงุช ูููุฑุน
- โ ุฅุฏุงุฑุฉ ุงูุญูุงูุฒ ูููุฑุน

**ุงูุทูุจุงุช:**
- โ ุฅุฑุณุงู ุทูุจ ูููุธู (can_submit_requests)
- โ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุธููู (can_manage_requests)
- โ ุงูููุงููุฉ ุนูู ุทูุจุงุช ุงูููุธููู (can_approve_requests)
- โ ุฅุฑุณุงู ุทูุจุงุช ุงูููุชุฌุงุช (can_manage_orders)

**ุงูุทุจุงุนุฉ:**
- โ ุทุจุงุนุฉ ุฌููุน ุชูุงุฑูุฑ ุงููุฑุน
- โ ุทุจุงุนุฉ ุงููุณูุฑ ุจุนุฏ ุงูุญุตูู ุนูู ููุงููุฉ
  - ูุฑูุน ุทูุจ ูุฅูุดุงุก ุงููุณูุฑ
  - ุจุนุฏ ุงูููุงููุฉ ูููู ุทุจุงุนุชู

#### โ ุงูุตูุงุญูุงุช ุบูุฑ ุงููุชุงุญุฉ

- โ ุนุฑุถ ุจูุงูุงุช ุงููุฑูุน ุงูุฃุฎุฑู
- โ ุฅุฏุงุฑุฉ ูุณุชุฎุฏููู
- โ ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ ุฅูุดุงุก ุฃู ุญุฐู ูุฑูุน

#### ๐ง ุงูุฅุดุนุงุฑุงุช

ูุณุชูุจู ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู:
- ุทูุจุงุช ุงูููุธููู ุงูุฌุฏูุฏุฉ ูู ูุฑุน ูุจู
- ุทูุจุงุช ุงูููุชุฌุงุช ูู ูุฑุน ูุจู
- ุชูุจููุงุช ุงููุฑุชุจุงุช ูุงูุญูุงูุฒ ููุฑุน ูุจู
- ุชูุจููุงุช ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ุงููุจูุฑุฉ

---

## ๐ข ูุดุฑู ูุฑุน ุทููู (Tuwaiq Branch Supervisor)

### ุจูุงูุงุช ุงูุฏุฎูู

```
Username: At123123
Password: At123123
Role: Supervisor (ูุดุฑู ูุฑุน)
Full Name: ูุญูุฏ ุฅุณูุงุนูู - ูุดุฑู ูุฑุน ุทููู
Email: mohamedismaelebrhem@gmail.com
Phone: +966501234568
Branch: ูุฑุน ุทููู (branch_2020)
```

### ุงูุตูุงุญูุงุช (ูุญุฏูุฏุฉ ุนูู ูุฑุน ุทููู ููุท)

#### โ ุงูุตูุงุญูุงุช ุงููุชุงุญุฉ

**ุงููุงููุฉ:**
- โ ุฅุถุงูุฉ ุฅูุฑุงุฏุงุช
- โ ุฅุถุงูุฉ ูุตุฑููุงุช
- โ ุนุฑุถ ุงูุชูุงุฑูุฑ ุงููุงููุฉ ูููุฑุน

**ุงูููุธููู:**
- โ ุฅุฏุงุฑุฉ ููุธูู ุงููุฑุน
- โ ุฅูุดุงุก ุงููุฑุชุจุงุช
- โ ุฅุฏุงุฑุฉ ุงูุญูุงูุฒ

**ุงูุทูุจุงุช:**
- โ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุชุฌุงุช (can_manage_orders)
- โ ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูููุธููู (can_manage_requests)
- โ ุงูููุงููุฉ ุนูู ุงูุทูุจุงุช (can_approve_requests)

**ุงูุทุจุงุนุฉ:**
- โ ุงูุทุจุงุนุฉ ุจุนุฏ ุงูููุงููุฉ
- โ ุทุจุงุนุฉ ุงููุณูุฑ ุจุนุฏ ุงูุญุตูู ุนูู ููุงููุฉ

#### โ ุงูุตูุงุญูุงุช ุบูุฑ ุงููุชุงุญุฉ

- โ ุนุฑุถ ุจูุงูุงุช ุงููุฑูุน ุงูุฃุฎุฑู
- โ ุฅุฏุงุฑุฉ ูุณุชุฎุฏููู
- โ ุฅุฏุงุฑุฉ ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ ุฅูุดุงุก ุฃู ุญุฐู ูุฑูุน

#### ๐ง ุงูุฅุดุนุงุฑุงุช

ูุณุชูุจู ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู:
- ุทูุจุงุช ุงูููุธููู ุงูุฌุฏูุฏุฉ ูู ูุฑุน ุทููู
- ุทูุจุงุช ุงูููุชุฌุงุช ูู ูุฑุน ุทููู
- ุชูุจููุงุช ุงููุฑุชุจุงุช ูุงูุญูุงูุฒ ููุฑุน ุทููู
- ุชูุจููุงุช ุงูุฅูุฑุงุฏุงุช ูุงููุตุฑููุงุช ุงููุจูุฑุฉ

---

## ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช (Notification System)

### ุขููุฉ ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช

ุชู ุฅูุดุงุก ูุธุงู ุฐูู ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงููุฑุน:

#### ๐ง ุฅุดุนุงุฑุงุช ุฎุงุตุฉ ุจุงููุฑุน
- **ุทูุจุงุช ุงูููุธููู**: ุชูุฑุณู ูููุดุฑู ุงููุณุคูู ุนู ุงููุฑุน + Admin
- **ุทูุจุงุช ุงูููุชุฌุงุช**: ุชูุฑุณู ูููุดุฑู ุงููุณุคูู ุนู ุงููุฑุน + Admin
- **ุงูุฅูุฑุงุฏุงุช ุงููุจูุฑุฉ**: ุชูุฑุณู ูููุดุฑู ุงููุณุคูู ุนู ุงููุฑุน + Admin
- **ุงููุตุฑููุงุช ุงููุจูุฑุฉ**: ุชูุฑุณู ูููุดุฑู ุงููุณุคูู ุนู ุงููุฑุน + Admin
- **ุชูุจููุงุช ุงููุฑุชุจุงุช**: ุชูุฑุณู ูููุดุฑู ุงููุณุคูู ุนู ุงููุฑุน + Admin

#### ๐ง ุฅุดุนุงุฑุงุช ุนุงูุฉ (ููู Admin ููุท)
- ุชูุจููุงุช ุงููุธุงู
- ุชูุจููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
- ุชูุงุฑูุฑ ุงูุฃุฏุงุก ุงูุดุงููุฉ

---

## ๐ ุงูุฃูุงู (Security)

### ุชุดููุฑ ูููุงุช ุงููุฑูุฑ

ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู **PBKDF2** ูุน:
- **Iterations**: 100,000 (OWASP recommended)
- **Hash Algorithm**: SHA-256
- **Salt**: 16 bytes (random per user)
- **Format**: `salt:hash` (both hex-encoded)

### ูุชุทูุจุงุช ูููุงุช ุงููุฑูุฑ

- โ 8 ุฃุญุฑู ุนูู ุงูุฃูู
- โ ุญุฑู ูุจูุฑ (A-Z)
- โ ุญุฑู ุตุบูุฑ (a-z)
- โ ุฑูู (0-9)

ุฌููุน ุงูุญุณุงุจุงุช ุงูุฌุฏูุฏุฉ ุชูุจู ูุฐู ุงููุชุทูุจุงุช.

---

## ๐ ุชุทุจูู ุงูุชุบููุฑุงุช

### ุงูุฎุทูุฉ 1: ุชุทุจูู Migration

ูุชุทุจูู ุงูุญุณุงุจุงุช ุงูุฌุฏูุฏุฉ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

#### Local Development:
```bash
cd symbolai-worker
wrangler d1 execute symbolai-db --local --file=migrations/005_create_admin_and_supervisors.sql
```

#### Production:
```bash
cd symbolai-worker
wrangler d1 execute symbolai-db --file=migrations/005_create_admin_and_supervisors.sql
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุญุณุงุจุงุช

ุจุนุฏ ุชุทุจูู Migrationุ ุชุญูู ูู ุฅูุดุงุก ุงูุญุณุงุจุงุช:

```sql
-- List all users with their roles
SELECT
  username,
  full_name,
  role_id,
  branch_id,
  email,
  is_active
FROM users_new
WHERE username IN ('Omar123', 'Aa123123', 'At123123');
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู

ุงุฎุชุจุฑ ุชุณุฌูู ุงูุฏุฎูู ููู ุญุณุงุจ:

1. **Admin**: https://your-domain.com/login
   - Username: `Omar123`
   - Password: `Omar101010`
   - ูุฌุจ ุฃู ูุฑู ุฌููุน ุงููุฑูุน ูุงูุตูุงุญูุงุช

2. **Laban Supervisor**: https://your-domain.com/login
   - Username: `Aa123123`
   - Password: `Aa12341234`
   - ูุฌุจ ุฃู ูุฑู ูุฑุน ูุจู ููุท

3. **Tuwaiq Supervisor**: https://your-domain.com/login
   - Username: `At123123`
   - Password: `At123123`
   - ูุฌุจ ุฃู ูุฑู ูุฑุน ุทููู ููุท

---

## ๐ ุงูุญุณุงุจุงุช ุงููุฏููุฉ

### ุชู ุญุฐู:
- `user_supervisor_1010` (supervisor_laban ุงููุฏูู)
- `user_supervisor_2020` (supervisor_tuwaiq ุงููุฏูู)

### ุชู ุงูุงุญุชูุงุธ ุจู:
- ุฌููุน ุญุณุงุจุงุช ุงูุดุฑูุงุก (Partners)
- ุฌููุน ุญุณุงุจุงุช ุงูููุธููู (Employees)

---

## ๐ ุงูุฏุนู

ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู:

1. **ูุดููุฉ ูู ุชุณุฌูู ุงูุฏุฎูู:**
   - ุชุฃูุฏ ูู ุชุทุจูู Migration
   - ุชุญูู ูู ูุชุงุจุฉ Username ู Password ุจุดูู ุตุญูุญ (ุญุณุงุณ ูุญุงูุฉ ุงูุฃุญุฑู)

2. **ูุดููุฉ ูู ุงูุตูุงุญูุงุช:**
   - ุชุญูู ูู role_id ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุชุฃูุฏ ูู ุฃู `is_active = 1`

3. **ูุดููุฉ ูู ุงูุฅุดุนุงุฑุงุช:**
   - ุชุญูู ูู ุตุญุฉ ุนูุงููู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   - ุชุฃูุฏ ูู ุฅุนุฏุงุฏ `RESEND_API_KEY` ูู secrets

---

## ๐ ูููุงุช ุฐุงุช ุตูุฉ

- **Migration File**: `migrations/005_create_admin_and_supervisors.sql`
- **Generation Script**: `scripts/generate-admin-users.js`
- **Notification System**: `src/lib/branch-notifications.ts`
- **Email Triggers**: `src/lib/email-triggers.ts`
- **Password Library**: `src/lib/password.ts`
- **RBAC System**: `RBAC_SYSTEM.md`

---

## โ ุชู ุงูุฅูุดุงุก ุจูุฌุงุญ

- โ ุญุณุงุจ Admin ุงูุฑุฆูุณู (Omar123)
- โ ูุดุฑู ูุฑุน ูุจู (Aa123123)
- โ ูุดุฑู ูุฑุน ุทููู (At123123)
- โ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงููุฑุน
- โ ุชุดููุฑ ุขูู ููููุงุช ุงููุฑูุฑ (PBKDF2)
- โ ุชูุซูู ุดุงูู

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2025-11-01
**ุงูุฅุตุฏุงุฑ**: 1.0
